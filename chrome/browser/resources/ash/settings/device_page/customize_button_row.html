<style include="md-select settings-shared input-device-settings-shared">
  #container {
    position: relative;
    transition: background 150ms ease;
  }

  :host([is-being-dragged_]) #container {
    background: var(--cros-sys-highlight_shape);

    #buttonLabel {
      color: var(--cros-text-color-disabled);
    }

    .edit-button {
      --cr-icon-button-fill-color: var(--cros-text-color-disabled);
    }
  }

  /* These pseudo-elements are used to display the drop indicator above or
   * below each customize-button-row element. */
  #container::after,
  #container::before {
    border: 0;
    content: '';
    display: block;
    left: 0;
    pointer-events: none;
    position: absolute;
    right: 0;
    width: 100%;
  }

  :host(.drop-indicator-top) #container::before,
  :host(.drop-indicator-bottom) #container::after {
    background: var(--cros-app-scrollbar-color);
    height: 2px;
    /* Add offset to account for separator between customize-button-rows. */
    --indicator-offset: calc(-1.5 * var(--cr-separator-height));
  }

  :host(.drop-indicator-top) #container::before {
    top: var(--indicator-offset);
  }

  :host(.drop-indicator-bottom) #container::after {
    bottom: var(--indicator-offset);
  }

  #header {
    display: flex;
  }

  .edit-button {
    --cr-icon-button-icon-start-offset: 3px;
    opacity: 0;
    padding-top: 3px;
    transition: opacity 300ms, transform 100ms;
  }

  .move-button,
  .edit-button {
    --cr-icon-button-icon-size: 16px;
    --cr-icon-button-fill-color: var(--cros-sys-on_surface);
  }

  /* Show edit-button when user hover on the row container. */
  #container:hover .edit-button,
  .edit-button:focus-visible {
    opacity: 1;
  }

  .settings-box {
    align-self: stretch;
    height: 64px;
    padding-inline-start: 0;
  }

  :host([remove-top-border]) .settings-box {
    border-top: none;
  }

  select {
    padding-inline-end: 12px;
    padding-inline-start: 16px;
  }

  .edit-icon-container {
    align-items: center;
    flex: auto;
    margin-inline-start: 6px;
    size: 48px;
  }

  .move-icon-container {
    align-items: center;
    margin-inline-end: 24px;
    size: 48px;
  }

  #buttonLabelContainer {
    padding-inline-end: 6px;
  }

  #keyCombination {
    display: none;
  }
</style>
<div id="container" class="settings-box first"
    on-mousedown="onContainerMouseDown_"
    on-dragstart="onDragStart_" on-dragend="onDragEnd_" draggable="true">
  <div class="move-icon-container">
    <cr-icon-button class="move-button" iron-icon="os-settings:move">
    </cr-icon-button>
  </div>
  <div id="buttonLabelContainer">
    <div id="buttonLabel"
        aria-hidden="true">[[buttonRemappingName_]]</div>
  </div>
  <div class="edit-icon-container">
    <cr-icon-button class="edit-button"
      iron-icon="os-settings:edit"
      on-click="onEditButtonLabelClicked_">
    </cr-icon-button>
  </div>
  <div id="dropdownContainer" class="text-field-container">
    <select id="remappingActionDropdown" class="md-select"
        on-change="onSelectChange_"
        disabled="[[isDropdownDisabled_(isBeingDragged_)]]">
      <option id="noRemappingOption" value="[[noRemappingOptionValue_]]">
        $i18n{noRemappingOptionLabel}
      </option>
      <template is="dom-repeat" items="[[buttonMapTargets_]]"
          as="buttonMapping">
        <option value$="[[buttonMapping.value]]">
          [[buttonMapping.name]]
        </option>
      </template>
      <option id="keyCombination" value="[[keyCombinationOptionValue_]]">
        [[keyCombinationLabel_]]
      </option>
      <option id="openDialogOption" value="[[openDialogOptionValue_]]">
        $i18n{keyCombinationOptionLabel}
      </option>
    </select>
  </div>
</div>
