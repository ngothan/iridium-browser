<style include="cr-icons md-select">
  iron-icon {
    --icon-size: 16px;
    height: var(--icon-size);
    width: var(--icon-size);
  }
  cr-icon-button {
    --cr-icon-button-icon-size: 16px;
    --cr-icon-button-size: 24px;
    margin: 10px 4px;
  }
  :host-context([chrome-refresh-2023]) #play-pause {
    --cr-icon-button-icon-size: 20px;
    --cr-icon-button-size: 28px;
    color: var(--color-side-panel-entry-icon);
  }
  :host-context([chrome-refresh-2023]) cr-icon-button {
    color: var(--color-sys-on-surface-subtle);
  }
  :host-context([chrome-refresh-2023]) .dropdown-item:focus {
    background-color: var(--cr-hover-background-color);
  }
  :host-context([chrome-refresh-2023]) #audio-controls {
    background: var(--audio-controls-background);
    border-radius: 18px;
    padding: 8px 0px;
    margin-left: 8px;
  }
  .dropdown-item {
    display: block;
  }
  .dropdown-voice-selection {
    display: flex;
    min-width: 312px;
    align-items: center;
    justify-content: space-between;
  }
  .dropdown-voice-selection cr-icon-button {
    margin: 0;
  }
  .dropdown-voice-selection p {
    margin: 8px 0;
    display: inline;
  }
  /* TODO(b/1465029): Investigate why chrome refresh colors don't always
     work on first launch. */
  :host-context([chrome-refresh-2023]) cr-action-menu {
    --cr-menu-border-radius: 4px;
  }
  .back, .section {
    font-weight: bold;
  }
  .item-invisible-true {
    visibility: hidden;
  }
  .display-false {
    display: none;
  }
  #font-size-decrease {
    margin-left: 16px;
  }
  .font-size {
    margin: 0 4px;
  }
  .text-button {
    border: none;
  }
  .check-mark {
    visibility: hidden;
  }
  #toolbar-container {
    overflow: visible;
    white-space: nowrap;
    max-height: 60px;
  }
  #more, cr-icon-button#moreOptionsMenu {
    display: none;
  }
  .separator {
    display: inline;
    width: 20px;
    height: 0px;
    transform: rotate(-90deg);
    margin: 10px 4px;
  }
  .md-select {
    --md-select-width: fit-content;
    margin: 10px 8px;
  }
  :host-context([chrome-refresh-2023]) .md-select {
    --md-select-text-color: var(--cr-primary-text-color);
  }
  :host-context([chrome-refresh-2023]) .md-select option {
    --md-select-option-bg-color: var(--color-sys-base-container-elevated);
  }
</style>
<div id="toolbar-container" class="toolbar-container">
  <span id="read-aloud-container" hidden="[[!isReadAloudEnabled_]]">
    <span id="audio-controls">
      <cr-icon-button
        class="toolbar-button"
        id="play-pause"
        iron-icon="read-anything-20:play"
        on-click="onPlayPauseClick_">
      </cr-icon-button>
      <span id="granularity-container" hidden="[[isPaused_]]">
        <cr-icon-button id="previousGranularity"
          class="toolbar-button"
        iron-icon="read-anything:previous"
        on-click="onPreviousGranularityClick_">
      </cr-icon-button>
      <cr-icon-button id="nextGranularity"
        class="toolbar-button"
        iron-icon="read-anything:next"
        on-click="onNextGranularityClick_">
        </cr-icon-button>
      </span>
    </span>
    <cr-icon-button
      class="toolbar-button"
      id="rate"
      iron-icon="voice-rate:1"
      on-click="onShowRateMenuClick_">
    </cr-icon-button>
    <cr-icon-button id="voice-selection" on-click="onVoiceSelectionMenuClick_"
      class="toolbar-button"
      iron-icon="read-anything:voice-selection">
    </cr-icon-button>
    <cr-icon-button
      class="toolbar-button"
      id="highlight"
      iron-icon="read-anything:highlight-on"
      title="$i18n{turnHighlightOff}"
      on-click="onHighlightClick_">
    </cr-icon-button>
  </span>

  <template is="dom-if" if="[[!isReadAloudEnabled_]]">
    <select id="font-select" class="md-select"
            on-change="onFontSelectValueChange_">
      <template id="fontTemplate" is="dom-repeat" items="[[fontOptions_]]">
        <option value="[[item]]">[[item]]</option>
      </template>
    </select>
    <hr class="separator">
    <cr-icon-button
        id="font-size-decrease-old"
        class="toolbar-button"
        iron-icon="read-anything:font-size-decrease-old"
        on-click="onFontSizeDecreaseClick_">
    </cr-icon-button>
    <cr-icon-button
        id="font-size-increase-old"
        class="toolbar-button"
        iron-icon="read-anything:font-size-increase-old"
        on-click="onFontSizeIncreaseClick_">
    </cr-icon-button>
  </template>

  <hr class="separator">

  <template is="dom-repeat" items="[[textStyleOptions_]]">
    <cr-icon-button
      class="toolbar-button"
      id="[[item.id]]"
      iron-icon="[[item.icon]]"
      on-click="onTextStyleMenuButtonClick_">
    </cr-icon-button>
  </template>
  <cr-icon-button
      id="more"
      iron-icon="cr:more-vert"
      on-click="onMoreOptionsClick_">
  </cr-icon-button>

  <cr-action-menu id="moreOptionsMenu">
    <template is="dom-repeat" items="[[textStyleOptions_]]">
      <cr-icon-button
        id="[[item.id]]"
        iron-icon="[[item.icon]]"
        on-click="onTextStyleMenuButtonClick_">
      </cr-icon-button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="rateMenu">
    <template is="dom-repeat" items="[[rateOptions_]]">
      <button class="dropdown-item" on-click="onRateClick_">
        <iron-icon class="button-image check-mark"
            icon="read-anything:check-mark"></iron-icon>
        [[item]]x
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="voiceSelectionMenu">
    <template is="dom-repeat" items="[[voiceSelectionOptions_]]">
      <!--  TODO(crbug.com/1474951): show a header for each locale group before
            listing the languages of the locale -->
      <button class="dropdown-item dropdown-voice-selection"
        on-click="onVoiceSelectClick_">
        <span>
          <iron-icon
          class$="button-image item-invisible-[[!item.data.selected]]"
            icon="read-anything:check-mark"></iron-icon>
          <p>[[item.title]]</p>
        </span>
        <cr-icon-button on-click="onVoicePreviewClick_"
          class$="button-image display-[[!item.data.previewPlaying]]"
          iron-icon="read-anything-20:play-circle"></cr-icon-button>
        <!-- TODO(crbug.com/1474951) Pause the preview when pause button is
                   pressed -->
        <cr-icon-button on-click="onVoicePreviewClick_"
          class$="button-image display-[[item.data.previewPlaying]]"
          iron-icon="read-anything-20:pause-circle"></cr-icon-button>
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="fontSizeMenu">
    <cr-icon-button
        class="font-size"
        id="font-size-decrease"
        iron-icon="read-anything:font-size-decrease"
        on-click="onFontSizeDecreaseClick_">
    </cr-icon-button>
    <cr-icon-button
        class="font-size"
        id="font-size-increase"
        iron-icon="read-anything:font-size-increase"
        on-click="onFontSizeIncreaseClick_">
    </cr-icon-button>
    <cr-button
        class="text-button"
        id="font-size-reset"
        on-click="onFontResetClick_">
      $i18n{fontResetTitle}
    </cr-button>
  </cr-action-menu>
  <cr-action-menu id="colorMenu">
    <template is="dom-repeat" items="[[colorOptions_]]">
      <button class="dropdown-item" on-click="onColorClick_">
        <iron-icon class="button-image check-mark"
            icon="read-anything:check-mark"></iron-icon>
        <iron-icon class="button-image" icon="[[item.icon]]"></iron-icon>
        [[item.title]]
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="lineSpacingMenu">
    <template is="dom-repeat" items="[[lineSpacingOptions_]]">
      <button class="dropdown-item" on-click="onLineSpacingClick_">
        <iron-icon class="button-image check-mark"
            icon="read-anything:check-mark"></iron-icon>
        <iron-icon class="button-image" icon="[[item.icon]]"></iron-icon>
        [[item.title]]
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="letterSpacingMenu">
    <template is="dom-repeat" items="[[letterSpacingOptions_]]">
      <button class="dropdown-item" on-click="onLetterSpacingClick_">
        <iron-icon class="button-image check-mark"
            icon="read-anything:check-mark"></iron-icon>
        <iron-icon class="button-image" icon="[[item.icon]]"></iron-icon>
        [[item.title]]
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="fontMenu">
  <template id="fontTemplate" is="dom-repeat" items="[[fontOptions_]]">
    <button class="dropdown-item" on-click="onFontClick_">
      <iron-icon class="button-image check-mark"
          icon="read-anything:check-mark"></iron-icon>
      [[item]]
    </button>
  </template>
  </cr-action-menu>
</div>
